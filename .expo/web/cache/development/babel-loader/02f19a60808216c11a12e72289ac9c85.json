{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useEffect, useState, useContext } from \"react\";\nimport { restaurantsRequest, restaurantTransform } from \"./restaurants.service\";\nimport { LocationContext } from \"../location/location.context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var RestaurantContext = createContext();\nexport var RestaurantContextProvider = function RestaurantContextProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    restaurants = _useState2[0],\n    setRestaurants = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useContext = useContext(LocationContext),\n    location = _useContext.location;\n  var retrieveRestaurants = function retrieveRestaurants(locationSearch) {\n    setLoading(true);\n    setRestaurants([]);\n    setTimeout(function () {\n      restaurantsRequest(locationSearch).then(restaurantTransform).then(function (results) {\n        setLoading(false);\n        setRestaurants(results);\n      }).catch(function (err) {\n        setLoading(false);\n        setError(err);\n      });\n    }, 2000);\n  };\n  useEffect(function () {\n    if (location) {\n      var locationString = location.lat + \",\" + location.lng;\n      retrieveRestaurants(locationString);\n    }\n  }, [location]);\n  return _jsx(RestaurantContext.Provider, {\n    value: {\n      restaurants: restaurants,\n      loading: loading,\n      error: error\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["React","createContext","useEffect","useState","useContext","restaurantsRequest","restaurantTransform","LocationContext","RestaurantContext","RestaurantContextProvider","children","restaurants","setRestaurants","loading","setLoading","error","setError","location","retrieveRestaurants","locationSearch","setTimeout","then","results","catch","err","locationString","lat","lng"],"sources":["E:/CURSO UDEMY/PARACTICAS CURSOS/MealsToGo/MealsToGo/src/services/restaurants/restaurants.context.js"],"sourcesContent":["import React, { createContext, useEffect, useState, useContext } from \"react\";\nimport { restaurantsRequest, restaurantTransform } from \"./restaurants.service\";\nimport { LocationContext } from \"../location/location.context\";\nexport const RestaurantContext = createContext();\n\nexport const RestaurantContextProvider = ({ children }) => {\n  const [restaurants, setRestaurants] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const { location } = useContext(LocationContext);\n\n  const retrieveRestaurants = (locationSearch) => {\n    setLoading(true);\n    setRestaurants([]);\n    setTimeout(() => {\n      restaurantsRequest(locationSearch)\n        .then(restaurantTransform)\n        .then((results) => {\n          setLoading(false);\n          setRestaurants(results);\n        })\n        .catch((err) => {\n          setLoading(false);\n          setError(err);\n        });\n    }, 2000);\n  };\n  useEffect(() => {\n    if (location) {\n      const locationString = `${location.lat},${location.lng}`;\n      retrieveRestaurants(locationString);\n    }\n  }, [location]);\n\n  return (\n    <RestaurantContext.Provider\n      value={{\n        restaurants,\n        loading,\n        error,\n      }}\n    >\n      {children}\n    </RestaurantContext.Provider>\n  );\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC7E,SAASC,kBAAkB,EAAEC,mBAAmB;AAChD,SAASC,eAAe;AAAuC;AAC/D,OAAO,IAAMC,iBAAiB,GAAGP,aAAa,EAAE;AAEhD,OAAO,IAAMQ,yBAAyB,GAAG,SAA5BA,yBAAyB,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAClD,gBAAsCP,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CQ,WAAW;IAAEC,cAAc;EAClC,iBAA8BT,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAtCU,OAAO;IAAEC,UAAU;EAC1B,iBAA0BX,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BY,KAAK;IAAEC,QAAQ;EAEtB,kBAAqBZ,UAAU,CAACG,eAAe,CAAC;IAAxCU,QAAQ,eAARA,QAAQ;EAEhB,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIC,cAAc,EAAK;IAC9CL,UAAU,CAAC,IAAI,CAAC;IAChBF,cAAc,CAAC,EAAE,CAAC;IAClBQ,UAAU,CAAC,YAAM;MACff,kBAAkB,CAACc,cAAc,CAAC,CAC/BE,IAAI,CAACf,mBAAmB,CAAC,CACzBe,IAAI,CAAC,UAACC,OAAO,EAAK;QACjBR,UAAU,CAAC,KAAK,CAAC;QACjBF,cAAc,CAACU,OAAO,CAAC;MACzB,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,GAAG,EAAK;QACdV,UAAU,CAAC,KAAK,CAAC;QACjBE,QAAQ,CAACQ,GAAG,CAAC;MACf,CAAC,CAAC;IACN,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EACDtB,SAAS,CAAC,YAAM;IACd,IAAIe,QAAQ,EAAE;MACZ,IAAMQ,cAAc,GAAMR,QAAQ,CAACS,GAAG,SAAIT,QAAQ,CAACU,GAAK;MACxDT,mBAAmB,CAACO,cAAc,CAAC;IACrC;EACF,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEd,OACE,KAAC,iBAAiB,CAAC,QAAQ;IACzB,KAAK,EAAE;MACLN,WAAW,EAAXA,WAAW;MACXE,OAAO,EAAPA,OAAO;MACPE,KAAK,EAALA;IACF,CAAE;IAAA,UAEDL;EAAQ,EACkB;AAEjC,CAAC"},"metadata":{},"sourceType":"module"}