{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, createContext } from \"react\";\nimport { locationRequest, locationTransform } from \"./location.service\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var LocationContext = createContext();\nexport var LocationContextProvider = function LocationContextProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(\"San Francisco\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    keyword = _useState2[0],\n    setKeyword = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    location = _useState8[0],\n    setLocation = _useState8[1];\n  var onSearch = function onSearch(searchKeyword) {\n    setIsLoading(true);\n    setKeyword(searchKeyword);\n  };\n  useEffect(function () {\n    if (!keyword) {\n      return null;\n    }\n    locationRequest(keyword.toLowerCase()).then(locationTransform).then(function (data) {\n      setIsLoading(false);\n      setLocation(data);\n    }).catch(function (err) {\n      setIsLoading(false);\n      setError(err);\n      setLocation(null);\n    });\n  }, [keyword]);\n  return _jsx(LocationContext.Provider, {\n    value: {\n      loading: loading,\n      location: location,\n      error: error,\n      search: onSearch,\n      keyword: keyword\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["React","useEffect","useState","createContext","locationRequest","locationTransform","LocationContext","LocationContextProvider","children","keyword","setKeyword","loading","setIsLoading","error","setError","location","setLocation","onSearch","searchKeyword","toLowerCase","then","data","catch","err","search"],"sources":["E:/CURSO UDEMY/PARACTICAS CURSOS/MealsToGo/MealsToGo/src/services/location/location.context.js"],"sourcesContent":["import React, { useEffect, useState, createContext } from \"react\";\nimport { locationRequest, locationTransform } from \"./location.service\";\n\nexport const LocationContext = createContext();\n\nexport const LocationContextProvider = ({ children }) => {\n  const [keyword, setKeyword] = useState(\"San Francisco\");\n  const [loading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [location, setLocation] = useState(null);\n\n  const onSearch = (searchKeyword) => {\n    setIsLoading(true);\n    setKeyword(searchKeyword);\n  };\n\n  useEffect(() => {\n    if (!keyword) {\n      return null;\n    }\n    locationRequest(keyword.toLowerCase())\n      .then(locationTransform)\n      .then((data) => {\n        setIsLoading(false);\n        setLocation(data);\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        setError(err);\n        setLocation(null);\n      });\n  }, [keyword]);\n  return (\n    <LocationContext.Provider\n      value={{\n        loading,\n        location,\n        error,\n        search: onSearch,\n        keyword,\n      }}\n    >\n      {children}\n    </LocationContext.Provider>\n  );\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,OAAO;AACjE,SAASC,eAAe,EAAEC,iBAAiB;AAA6B;AAExE,OAAO,IAAMC,eAAe,GAAGH,aAAa,EAAE;AAE9C,OAAO,IAAMI,uBAAuB,GAAG,SAA1BA,uBAAuB,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAChD,gBAA8BN,QAAQ,CAAC,eAAe,CAAC;IAAA;IAAhDO,OAAO;IAAEC,UAAU;EAC1B,iBAAgCR,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAxCS,OAAO;IAAEC,YAAY;EAC5B,iBAA0BV,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAjCW,KAAK;IAAEC,QAAQ;EACtB,iBAAgCZ,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAvCa,QAAQ;IAAEC,WAAW;EAE5B,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,aAAa,EAAK;IAClCN,YAAY,CAAC,IAAI,CAAC;IAClBF,UAAU,CAACQ,aAAa,CAAC;EAC3B,CAAC;EAEDjB,SAAS,CAAC,YAAM;IACd,IAAI,CAACQ,OAAO,EAAE;MACZ,OAAO,IAAI;IACb;IACAL,eAAe,CAACK,OAAO,CAACU,WAAW,EAAE,CAAC,CACnCC,IAAI,CAACf,iBAAiB,CAAC,CACvBe,IAAI,CAAC,UAACC,IAAI,EAAK;MACdT,YAAY,CAAC,KAAK,CAAC;MACnBI,WAAW,CAACK,IAAI,CAAC;IACnB,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,GAAG,EAAK;MACdX,YAAY,CAAC,KAAK,CAAC;MACnBE,QAAQ,CAACS,GAAG,CAAC;MACbP,WAAW,CAAC,IAAI,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EACb,OACE,KAAC,eAAe,CAAC,QAAQ;IACvB,KAAK,EAAE;MACLE,OAAO,EAAPA,OAAO;MACPI,QAAQ,EAARA,QAAQ;MACRF,KAAK,EAALA,KAAK;MACLW,MAAM,EAAEP,QAAQ;MAChBR,OAAO,EAAPA;IACF,CAAE;IAAA,UAEDD;EAAQ,EACgB;AAE/B,CAAC"},"metadata":{},"sourceType":"module"}